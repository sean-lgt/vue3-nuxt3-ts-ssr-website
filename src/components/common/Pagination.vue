<script setup lang="ts">
import { computed, defineEmits } from 'vue'
import { useStore } from '@/store'

const store = useStore()
// ä½¿ç”¨è®¡ç®—å±æ€§æ˜ å°„ store ä¸­çš„å€¼
const pageNo = computed(() => store.state.pageNo)
const pageSize = computed(() => store.state.pageSize)
const total = computed(() => store.state.total)

const emit = defineEmits<{
  (e: 'changePage', pageNo: number): void
}>()

// é¡µé¢æ”¹å˜æ—¶é€šçŸ¥çˆ¶ç»„ä»¶
const changePage = (pageNo: number) => {
  console.log('ğŸš€ã€å­ç»„ä»¶ä¸­-pageNoã€‘', pageNo)
  emit('changePage', pageNo)
}
</script>

<template>
  <el-pagination
    v-model:currentPage="pageNo"
    :page-size="pageSize"
    :total="total"
    background
    layout="prev,pager,next"
    prev-text="<<"
    next-text=">>"
    @current-change="changePage"
  ></el-pagination>
</template>

<style lang="scss" scoped></style>
